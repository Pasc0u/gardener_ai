<div id="chat_topic">
  <h1> Chat about <%= @chat.topic %> </h1>
</div>
<h1> for <%= @plant.species %></h1>

<%= link_to "Go back to your plant", plant_path(@plant) %>

<div id="new_message" class="mt-3">
  <%= simple_form_for [@chat, @message] do |f| %>
    <%= f.input :content, placeholder: "Ask a question", required: true, label: false %>
    <%= f.input :file, as: :file, label: false %>
    <%= f.submit "Ask", class: "btn btn-primary" %>
  <% end %>
</div>

<% @chat.messages.each do |message| %>
  <p>
    <strong><%= message.role %></strong>
    <%= message.content %>
    <% if message.file.attached? %>
      <strong>File:</strong>
      <%= link_to message.file.filename, rails_blob_path(message.file, disposition: "attachment") %>
    <% end %>
  </p>
<% end %>
